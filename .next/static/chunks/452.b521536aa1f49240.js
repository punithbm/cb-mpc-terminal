(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[452],{7452:function(e,r,t){"use strict";t.r(r);var n=t(3010),o=t(5170),i=t(7352),l=t(2838);t(714),r.default=e=>{let{index:r}=e,t=(0,o.useRef)(null),c=(0,o.useRef)(null),s=(0,o.useRef)(null),a=(0,o.useRef)(null),[d,u]=(0,o.useState)("connecting");return(0,o.useEffect)(()=>{if(!t.current)return;c.current=new i.Terminal({theme:{background:"#1e1e1e",foreground:"#ffffff",cursor:"#ffffff",cursorAccent:"#000000",black:"#1e1e1e",red:"#f14c4c",green:"#23d18b",yellow:"#f5f543",blue:"#3b8eea",magenta:"#d670d6",cyan:"#29b8db",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',fontSize:13,lineHeight:1.2,cursorBlink:!0,cursorStyle:"block",scrollback:1e4,tabStopWidth:4}),s.current=new l.FitAddon,c.current.loadAddon(s.current),c.current.open(t.current),s.current.fit(),c.current.onKey(e=>{let{key:r,domEvent:t}=e;if((t.metaKey||t.ctrlKey)&&"k"===t.key){var n;t.preventDefault(),null===(n=c.current)||void 0===n||n.clear()}});let connectToSSE=()=>{u("connecting"),a.current=new EventSource("/api/logs/".concat(r)),a.current.onopen=()=>{u("connected")},a.current.onmessage=e=>{var r;let t=e.data+"\r\n";null===(r=c.current)||void 0===r||r.write(t)},a.current.onerror=e=>{var r;console.error("SSE Error:",e),u("error"),null===(r=c.current)||void 0===r||r.write("\r\n[CONNECTION ERROR] Failed to connect to log stream\r\n"),setTimeout(()=>{var e;(null===(e=a.current)||void 0===e?void 0:e.readyState)!==EventSource.OPEN&&connectToSSE()},3e3)}};connectToSSE();let handleResize=()=>{s.current&&c.current&&s.current.fit()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),a.current&&a.current.close(),c.current&&c.current.dispose()}},[r]),(0,n.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,n.jsxs)("div",{style:{height:"40px",backgroundColor:"#333333",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",fontSize:"14px",fontWeight:"500",borderBottom:"1px solid #555555"},children:[(0,n.jsxs)("span",{children:["Threshold ECDSA Web #",r," Logs"]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:(()=>{switch(d){case"connected":return"#23d18b";case"connecting":return"#f5f543";case"error":return"#f14c4c";default:return"#666666"}})()}}),(0,n.jsx)("span",{style:{fontSize:"12px"},children:(()=>{switch(d){case"connected":return"Connected";case"connecting":return"Connecting...";case"error":return"Connection Error";case"disconnected":return"Disconnected";default:return"Unknown"}})()})]})]}),(0,n.jsx)("div",{ref:t,style:{flex:1,backgroundColor:"#1e1e1e",overflow:"hidden"}}),(0,n.jsx)("div",{style:{height:"24px",backgroundColor:"#2d2d2d",color:"#888888",display:"flex",alignItems:"center",padding:"0 16px",fontSize:"11px",borderTop:"1px solid #555555"},children:"Press âŒ˜+K (Mac) or Ctrl+K (Windows/Linux) to clear terminal"})]})}},714:function(){},2838:function(e){var r;self,e.exports=(Object.defineProperty(r={},"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let r=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(r._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core,r=e._renderService.dimensions;if(0===r.css.cell.width||0===r.css.cell.height)return;let t=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(n.getPropertyValue("height")),i=Math.max(0,parseInt(n.getPropertyValue("width"))),l=window.getComputedStyle(this._terminal.element),c=o-(parseInt(l.getPropertyValue("padding-top"))+parseInt(l.getPropertyValue("padding-bottom"))),s=i-(parseInt(l.getPropertyValue("padding-right"))+parseInt(l.getPropertyValue("padding-left")))-t;return{cols:Math.max(2,Math.floor(s/r.css.cell.width)),rows:Math.max(1,Math.floor(c/r.css.cell.height))}}},r)}}]);